(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[0],{102:function(e,t,n){},106:function(e,t,n){e.exports={header:"Header_header__3DP8N",loginBlock:"Header_loginBlock__3qsUX"}},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l}));var a,r,o=n(144),s=o.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"7dc52db3-0d14-44ab-80ee-40d908279e0f"}}),c=function(e){a=e},i=function(e){r=e};s.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?a():r(e.message),Promise.reject(e)}));var u={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return s.post("follow/".concat(e),{})},unfollow:function(e){return s.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsoleted method"),l.getProfile(e)}},l={getProfile:function(e){return s.get("profile/"+e)},getStatus:function(e){return s.get("profile/status/"+e)},updateStatus:function(e){return s.put("profile/status/",{status:e})},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),s.put("profile/photo/",t,"multipart/form-data")},saveProfile:function(e){return s.put("profile/",e)}}},110:function(e,t,n){e.exports={myPost:"Post_myPost__1xAV2",like:"Post_like__drfKI"}},13:function(e,t,n){e.exports={btnEdit:"ProfileDesc_btnEdit__3DZPh",name:"ProfileDesc_name__2EMZc",icon:"ProfileDesc_icon__VrKIe",contactTitle:"ProfileDesc_contactTitle__huWij",editForm:"ProfileDesc_editForm__3O9Gu",editDescription:"ProfileDesc_editDescription__16nqp",descElementWrap:"ProfileDesc_descElementWrap__3nuta",descElementTitle:"ProfileDesc_descElementTitle__3bNnQ",btnSubmit:"ProfileDesc_btnSubmit__1Os0z"}},14:function(e,t,n){"use strict";var a=n(52),r=n(7),o=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(r.a)({},e,{},a):e}))};n.d(t,"b",(function(){return g})),n.d(t,"i",(function(){return E})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return P}));var s="SOCIAL-NETWORK/USERS-REDUCER/FOLLOW",c="SOCIAL-NETWORK/USERS-REDUCER/UNFOLLOW",i="SOCIAL-NETWORK/USERS-REDUCER/SET_USERS",u="SOCIAL-NETWORK/USERS-REDUCER/SET_REDIRECT_TO_DIALOGS",l="SOCIAL-NETWORK/USERS-REDUCER/SET_CURRENT_PAGE",d="SOCIAL-NETWORK/USERS-REDUCER/SET_USERS_TOTAL_COUNT",m="SOCIAL-NETWORK/USERS-REDUCER/TOGGLE_IS_FETCHING",p="SOCIAL-NETWORK/USERS-REDUCER/TOGGLE_IS_FOLLOWING_PROGRESS",f={users:[],redirectToDialogId:null,pageSize:10,totalUsersCount:20,currentPage:1,isFetching:!1,followingInProgress:[]},g=(t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)({},e,{users:o(e.users,t.userId,"id",{followed:!0})});case c:return Object(r.a)({},e,{users:o(e.users,t.userId,"id",{followed:!1})});case i:return Object(r.a)({},e,{users:Object(a.a)(t.users)});case u:return Object(r.a)({},e,{redirectToDialogId:t.userId});case l:return Object(r.a)({},e,{currentPage:t.currentPage});case d:return Object(r.a)({},e,{totalUsersCount:t.count});case m:return Object(r.a)({},e,{isFetching:t.isFetching});case p:return Object(r.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(a.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},function(e){return{type:s,userId:e}}),E=function(e){return{type:c,userId:e}},b=function(e){return{type:i,users:e}},h=function(e){return{type:u,userId:e}},O=function(e){return{type:l,currentPage:e}},v=function(e){return{type:d,count:e}},_=function(e){return{type:m,isFetching:e}},P=function(e,t){return{type:p,isFetching:e,userId:t}}},149:function(e,t,n){e.exports=n.p+"static/media/user.b6a2af8d.png"},150:function(e,t,n){e.exports=n.p+"static/media/preloader.dd257cf1.svg"},151:function(e,t,n){e.exports={content:"Profile_content__3klPd"}},152:function(e,t,n){e.exports=n.p+"static/media/right-tick.9fcfd417.svg"},153:function(e,t,n){e.exports=n.p+"static/media/false-tick.54d5c263.svg"},154:function(e,t,n){e.exports={footer:"Footer_footer__3YFvC"}},155:function(e,t,n){"use strict";n.r(t);var a=n(30),r=n(31),o=n(33),s=n(32),c=n(34),i=n(0),u=n.n(i),l=n(3),d=n.n(l),m=n(14),p=n(11),f=function(e,t,n,a){return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(Object(m.h)(!0,t)),r.next=3,d.a.awrap(n(t));case 3:0===r.sent.data.resultCode&&e(a(t)),e(Object(m.h)(!1,t));case 6:case"end":return r.stop()}}))},g=n(5),E=n(27),b=n(55),h=n(36),O=n(87),v=n.n(O),_=n(80),P=n.n(_),w=function(e){for(var t=e.currentPage,n=e.totalItemsCount,a=e.pageSize,r=e.onPageChanged,o=e.portionSize,s=void 0===o?10:o,c=Object(i.useState)(1),l=Object(h.a)(c,2),d=l[0],m=l[1],p=Math.ceil(n/a),f=[],g=1;g<=p;g++)f.push(g);var E=Math.ceil(p/s),O=(d-1)*s+1,_=d*s;return u.a.createElement("div",{className:v.a.paginator},d>1&&u.a.createElement("button",{onClick:function(){return m(d-1)}},"Prev"),f.filter((function(e){return e>=O&&e<=_})).map((function(e){return u.a.createElement("span",{key:e,className:P()(Object(b.a)({},v.a.selectedPage,t===e),v.a.pageNumber),onClick:function(){r(e)}},e)})),E>d&&u.a.createElement("button",{onClick:function(){m(d+1)}},"Next"))},j=n(46),S=n.n(j),C=n(12),y=n(56),N=n(37),I=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,r=e.follow;return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:S.a.user},u.a.createElement("div",{className:S.a.photoContainer},u.a.createElement(C.b,{to:"".concat(N.c,"/").concat(t.id)},u.a.createElement(y.a,{photo:t.photos.small,styled:S.a.userPhoto})),t.followed?u.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){return a(t.id)}},"Unfollow"):u.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Follow"),u.a.createElement(C.b,{to:"".concat(N.a,"/").concat(t.id)},u.a.createElement("button",null,"Dialog"))),u.a.createElement("span",{className:S.a.userDesc},u.a.createElement("div",null,t.name),u.a.createElement("div",null,t.status))))},x=function(e){var t=e.currentPage,n=e.totalUsersCount,a=e.pageSize,r=e.onPageChanged,o=e.users,s=Object(E.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return u.a.createElement("div",{className:S.a.usersContainer},u.a.createElement(w,{currentPage:t,totalItemsCount:n,pageSize:a,onPageChanged:r,portionSize:20}),u.a.createElement("div",{className:S.a.users},o.map((function(e){return u.a.createElement(I,{user:e,key:e.id,follow:s.follow,unfollow:s.unfollow,followingInProgress:s.followingInProgress})}))))},D=n(22),L=n(8),R=function(e){return e.usersPage.users},k=function(e){return e.usersPage.pageSize},U=function(e){return e.usersPage.totalUsersCount},A=function(e){return e.usersPage.currentPage},T=function(e){return e.usersPage.isFetching},F=function(e){return e.usersPage.followingInProgress},M=function(e){return e.usersPage.redirectToDialogId},W=n(38),G=n(45),K=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).onPageChanged=function(e){var t=n.props.pageSize;n.props.getUsers(e,t)},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return this.props.userId?u.a.createElement(G.a,{to:"/dialogs/".concat(this.props.userId)}):u.a.createElement(u.a.Fragment,null,this.props.isFetching?u.a.createElement(D.a,null):null,u.a.createElement(x,{onPageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,startDialog:this.props.startDialog}))}}]),t}(u.a.Component);t.default=Object(L.d)(Object(g.b)((function(e){return{users:R(e),pageSize:k(e),totalUsersCount:U(e),currentPage:A(e),isFetching:T(e),followingInProgress:F(e),userId:M(e)}}),{follow:function(e){return function(t){return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(f(t,e,p.e.follow.bind(p.e),m.b));case 2:case"end":return n.stop()}}))}},unfollow:function(e){return function(t){return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(f(t,e,p.e.unfollow.bind(p.e),m.i));case 2:case"end":return n.stop()}}))}},setCurrentPage:m.c,toggleIsFollowingProgress:m.h,startDialog:W.e,getUsers:function(e,t){return function(n){var a;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n(Object(m.g)(!0)),n(Object(m.c)(e)),r.next=4,d.a.awrap(p.e.getUsers(e,t));case 4:a=r.sent,n(Object(m.g)(!1)),n(Object(m.f)(a.items)),n(Object(m.e)(a.totalCount));case 8:case"end":return r.stop()}}))}}}))(K)},16:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return b}));var a=n(52),r=n(7),o="SOCIAL-NETWORK/DIALOGS-REDUCER/SEND-MESSAGE",s="SOCIAL-NETWORK/DIALOGS-REDUCER/SET-MESSAGES",c="SOCIAL-NETWORK/DIALOGS-REDUCER/IS_MESSAGES_LOADING",i="SOCIAL-NETWORK/DIALOGS-REDUCER/IS_DIALOGS_LOADING",u="SOCIAL-NETWORK/DIALOGS-REDUCER/SET_INTERLOCUTOR_ID",l="SOCIAL-NETWORK/DIALOGS-REDUCER/SET_DIALOGS",d={messagesData:[],dialogsData:[],currentInterlocutorId:"",isDialogsLoading:!1,isLoading:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(r.a)({},e,{isDialogsLoading:t.isLoading});case l:return Object(r.a)({},e,{dialogsData:t.dialogsList});case u:return Object(r.a)({},e,{currentInterlocutorId:t.currentInterlocutorId});case c:return Object(r.a)({},e,{isLoading:t.isLoading});case o:var n=t.newMessage;return Object(r.a)({},e,{messagesData:[].concat(Object(a.a)(e.messagesData),[{id:6,message:n}])});case s:return Object(r.a)({},e,{messagesData:t.messagesList});default:return e}};var m=function(e){return{type:o,newMessage:e}},p=function(e){return{type:s,messagesList:e}},f=function(e){return{type:c,isLoading:e}},g=function(e){return{type:u,currentInterlocutorId:e}},E=function(e){return{type:i,isLoading:e}},b=function(e){return{type:l,dialogsList:e}}},181:function(e,t,n){e.exports=n(307)},183:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return v}));var a=n(52),r=n(7),o="SOCIAL-NETWORK/PROFILE-REDUCER/ADD-POST",s="SOCIAL-NETWORK/PROFILE-REDUCER/SET_USER_PROFILE",c="SOCIAL-NETWORK/PROFILE-REDUCER/LOADING_PROFILE",i="SOCIAL-NETWORK/PROFILE-REDUCER/SET_STATUS",u="SOCIAL-NETWORK/PROFILE-REDUCER/DELETE_POST",l="SOCIAL-NETWORK/PROFILE-REDUCER/UPLOAD_PHOTO_SUCCESS",d="SOCIAL-NETWORK/PROFILE-REDUCER/UPLOAD_PHOTO_ERROR",m="SOCIAL-NETWORK/PROFILE-REDUCER/LOADING_PHOTO",p={postsData:[{id:3,message:"Hello World! What's up?",likesCount:25}],profile:{aboutMe:"",contacts:{facebook:""},lookingForAJob:!0,lookingForAJobDescription:"",fullName:"",userId:null,photos:{small:"",large:""},isPhotoLoading:!1,errorPhotoLoadingMessage:""},status:"",isLoading:!1,errorMessage:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:6,message:t.newPostText,likesCount:0};return Object(r.a)({},e,{postsData:[].concat(Object(a.a)(e.postsData),[n]),newPostText:""});case s:return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{},t.profile)});case c:return Object(r.a)({},e,{isLoading:t.isLoading});case u:return Object(r.a)({},e,{postsData:e.postsData.filter((function(e){return e.id!==t.postId}))});case i:return Object(r.a)({},e,{status:t.status});case l:return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{photos:t.photos})});case d:return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{errorPhotoLoadingMessage:t.message})});case m:return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{isPhotoLoading:t.isLoading})});default:return e}};var f=function(e){return{type:o,newPostText:e}},g=function(e){return{type:s,profile:e}},E=function(e){return{type:c,isLoading:e}},b=function(e){return{type:i,status:e}},h=function(e){return{type:l,photos:e}},O=function(e){return{type:d,message:e}},v=function(e){return{type:m,isLoading:e}}},22:function(e,t,n){"use strict";var a=n(150),r=n.n(a),o=n(0),s=n.n(o);t.a=function(){return s.a.createElement("div",null,s.a.createElement("img",{alt:"Preloader",src:r.a}))}},24:function(e,t,n){e.exports={loginPage:"FormsControls_loginPage__cr2k1",loginHeader:"FormsControls_loginHeader__1NDcj",loginWrapper:"FormsControls_loginWrapper__3kLVI",checkboxWrapper:"FormsControls_checkboxWrapper__11-k0",formControl:"FormsControls_formControl__nZE5u",error:"FormsControls_error__1uHuk",formSummaryError:"FormsControls_formSummaryError__1f1nd",captcha:"FormsControls_captcha__wkOfi"}},307:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),o=(n(183),n(77)),s=n.n(o),c=n(8),i=n(20),u=n(16),l={friendsName:[{name:"Victor",id:1},{name:"Vadim",id:2},{name:"Max",id:3}]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;arguments.length>1&&arguments[1];return e},m=n(14),p=n(43),f=n(145),g=n(143),E=n(7),b=n(51),h="SOCIAL-NETWORK/APP-REDUCER/INITIALIZED_SUCCESS",O="SOCIAL-NETWORK/APP-REDUCER/SET_ERROR",v={initialized:!1,errorMessage:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(E.a)({},e,{initialized:!0});case O:return Object(E.a)({},e,{errorMessage:t.errorMessage});default:return e}},P=function(e){return{type:O,errorMessage:e}},w=Object(c.c)({profilePage:i.b,messagesPage:u.a,sidebar:d,usersPage:m.a,auth:p.a,app:_,form:g.a}),j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,S=Object(c.e)(w,j(Object(c.a)(f.a))),C=n(11),y=n(30),N=n(31),I=n(33),x=n(32),D=n(34),L=(n(102),n(106)),R=n.n(L),k=n(12),U=function(e){return r.a.createElement("header",{className:R.a.header},r.a.createElement("div",{className:R.a.loginBlock},e.isAuth?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",null," ",e.login," - "),r.a.createElement("button",{onClick:e.logout}," Log Out ")):r.a.createElement(k.b,{to:"/login"},"Login")))},A=n(5),T=function(e){function t(){return Object(y.a)(this,t),Object(I.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement(U,this.props)}}]),t}(a.Component),F=Object(A.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:b.c})(T),M=n(47),W=n.n(M),G=n(37),K=function(){return r.a.createElement("nav",{className:W.a.nav},r.a.createElement("div",{className:W.a.item},r.a.createElement(k.b,{to:G.c,activeClassName:W.a.activeLink},"Profile")),r.a.createElement("div",{className:W.a.item},r.a.createElement(k.b,{to:G.a,activeClassName:W.a.activeLink},"Messages")),r.a.createElement("div",{className:W.a.item},r.a.createElement(k.b,{to:G.d,activeClassName:W.a.activeLink},"Users")))},z=n(154),H=n.n(z),V=function(){return r.a.createElement("footer",{className:H.a.footer})},B=n(45),J=function(e){return r.a.createElement("div",{className:"sidebar"},"Friends:",e.friendsName.map((function(e){return r.a.createElement("div",{key:e.id}," ",e.name," ")})))},Y=Object(A.b)((function(e){return{friendsName:e.sidebar.friendsName}}),(function(e){return{}}))(J),Z=n(22),q=n(27),X=function(e){var t=e.children,n=Object(q.a)(e,["children"]);return n.show?r.a.createElement(r.a.Fragment,null,n.blackout&&r.a.createElement("div",{style:{position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",backgroundColor:"red",opacity:"0.3"}}," "),r.a.createElement("div",{style:{position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",width:"200px",height:"100px",borderRadius:"10px",backgroundColor:"white",top:"".concat(n.top,"px")}},t)):null},Q=function(e){var t=e.errorMessage,n=Object(A.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{top:200,show:t,blackout:!0},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:{margin:"10px"}},t),r.a.createElement("div",{style:{position:"absolute",right:"10px",top:"10px"}},r.a.createElement("button",{style:{height:"22px",padding:"2px"},onClick:function(){n(P(""))}},"X")))))},$=function(){var e=Object(A.d)((function(e){return e.app.errorMessage}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{errorMessage:e}))},ee=(r.a.lazy((function(){return n.e(3).then(n.bind(null,308))})),r.a.lazy((function(){return Promise.resolve().then(n.bind(null,155))})),function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).catchAllUnhandledErrors=function(e,t){console.error(t)},n}return Object(D.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(F,null),r.a.createElement($,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement("div",{className:"app-navbar"},r.a.createElement(K,null),r.a.createElement(Y,null)),r.a.createElement(G.e,null)),r.a.createElement(V,null)):r.a.createElement(Z.a,null)}}]),t}(a.Component)),te=Object(c.d)(B.h,Object(A.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(b.a)());Promise.all([t]).then((function(){e({type:h})}))}}}))(ee),ne=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(A.a,{store:S},r.a.createElement(te,null))))};s.a.render(r.a.createElement(ne,null),document.getElementById("root")),Object(C.d)((function(){return S.dispatch(Object(p.c)(null,null,null,!1))})),Object(C.c)((function(e){return S.dispatch(P(e))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(16),s=n(38),c=n(36),i=n(27),u=n(39),l=n.n(u),d=n(48),m=n.n(d),p=n(12),f=n(56),g=function(e){return r.a.createElement("div",{className:m.a.dialogWrapper},r.a.createElement(p.b,{to:"".concat(ke,"/").concat(e.id),className:m.a.dialog},r.a.createElement("div",{className:m.a.avatarWrapper},r.a.createElement(f.a,{photo:e.photo,styled:m.a.avatar})),r.a.createElement("div",{className:m.a.nameWrapper},e.name),e.isNewMessage?r.a.createElement("div",{className:m.a.newMessagesCountWrapper},r.a.createElement("span",{className:m.a.newMessagesCount},e.newMessagesCount)):null))},E=n(55),b=n(80),h=n.n(b);var O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:h()(l.a.message,Object(E.a)({},"".concat(l.a.unViewed),!e.viewed))},r.a.createElement("div",null,r.a.createElement("span",{className:l.a.autorName},e.name,":"),r.a.createElement("span",{className:l.a.textMessage},e.message),r.a.createElement("button",{onClick:function(){return e.deleteMessage(e.id)}},"Delete"))))},v=n(45),_=function(e){if(!e)return"Field is required!"},P=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols!")}},w=n(141),j=n(142),S=n(24),C=n.n(S),y=function(e){var t=e.meta,n=t.touched,a=t.error,o=e.children,s=n&&a;return r.a.createElement("div",{className:C.a.formControl+" "+(s?C.a.error:"")},r.a.createElement("div",null,o),r.a.createElement("div",null,s&&r.a.createElement("span",null,a)))},N=function(e){var t=e.input,n=(e.meta,e.child,Object(i.a)(e,["input","meta","child"]));return r.a.createElement(y,e," ",r.a.createElement("textarea",Object.assign({},t,n)))},I=function(e){var t=e.input,n=(e.meta,e.child,Object(i.a)(e,["input","meta","child"]));return r.a.createElement(y,e," ",r.a.createElement("input",Object.assign({},t,n)))},x=function(e,t,n,a,o,s){return r.a.createElement("div",{style:{display:"flex",width:"150px",marginBottom:"5px",alignItems:"center"}},r.a.createElement(w.a,Object.assign({placeholder:e,name:t,validate:n,component:a},o)),r.a.createElement("span",{style:{width:"200px",marginLeft:"-70px"}},s))},D=n(61),L=n.n(D),R=P(100),k=Object(j.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:L.a.formWrapper},r.a.createElement("div",{className:L.a.textareaWrapper},r.a.createElement(w.a,{className:L.a.textarea,component:N,validate:R,name:"newMessageBody",placeholder:"Enter your message"})),r.a.createElement("div",{className:L.a.buttonWrapper},r.a.createElement("button",{className:L.a.button},"Send"))))})),U=n(22),A=n(5),T=function(e){e.dialogsPage;var t=Object(i.a)(e,["dialogsPage"]),n=Object(v.g)().userId,o=Object(a.useState)(!1),u=Object(c.a)(o,2),d=u[0],m=u[1],f=Object(A.c)();Object(a.useEffect)((function(){f(Object(s.b)())}),[]),Object(a.useEffect)((function(){E()}),[n]);var E=function(){n?(t.getMessages(n),m(!0)):(m(!1),f(Object(s.b)()))},b=Object(A.d)((function(e){return e.messagesPage.dialogsData})),h=Object(A.d)((function(e){return e.messagesPage.messagesData})),_=Object(A.d)((function(e){return e.messagesPage.currentInterlocutorId})),P=Object(A.d)((function(e){return e.messagesPage.isDialogsLoading})),w=Object(A.d)((function(e){return e.messagesPage.isLoading})),j=function(e){f(Object(s.a)(e,_))},S=b.map((function(e){return r.a.createElement(g,{activatingMessagesWindow:m,name:e.userName,id:e.id,key:e.id,photo:e.photos.small,newMessagesCount:e.newMessagesCount,isNewMessage:e.hasNewMessages})})),C=h.map((function(e){return r.a.createElement(O,{getMessages:t.getMessages,deleteMessage:j,activatingMessagesWindow:m,message:e.body,key:e.id,id:e.id,companionId:e.recipientId,name:e.senderName,viewed:e.viewed})}));return t.isAuth?r.a.createElement("div",{className:l.a.dialogs},d?r.a.createElement(r.a.Fragment,null,w?r.a.createElement(U.a,null):r.a.createElement("div",{className:l.a.messages},r.a.createElement(p.b,{to:ke},r.a.createElement("button",null,"back")),r.a.createElement("div",null,C),r.a.createElement("div",null,r.a.createElement(k,{onSubmit:function(e){f(Object(s.d)(_,e.newMessageBody))}})))):r.a.createElement(r.a.Fragment,null," ",P?r.a.createElement(U.a,null):r.a.createElement("div",{className:l.a.dialogsItems},r.a.createElement("div",null,S)))):r.a.createElement(v.a,{to:Re})},F=n(30),M=n(31),W=n(33),G=n(32),K=n(34),z=function(e){return{isAuth:e.auth.isAuth}},H=function(e){var t=function(t){function n(){return Object(F.a)(this,n),Object(W.a)(this,Object(G.a)(n).apply(this,arguments))}return Object(K.a)(n,t),Object(M.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(v.a,{to:"/login"})}}]),n}(r.a.Component);return Object(A.b)(z)(t)},V=n(8),B=Object(V.d)(Object(A.b)((function(e){return{}}),{sendMessage:o.c,getMessages:s.c}),v.h,H)(T),J=n(151),Y=n.n(J),Z=n(83),q=n.n(Z),X=n(13),Q=n.n(X),$=n(152),ee=n.n($),te=n(153),ne=n.n(te),ae=function(e){var t=function(e){var t=e.contactTitle,n=e.contactValue;return r.a.createElement("div",{className:Q.a.contactTitle},r.a.createElement("b",null,t,":")," ",n)},n=e.profileData.contacts,a=Object.keys(n).filter((function(e){return n[e]})).map((function(e){return r.a.createElement(t,{key:e,contactTitle:e,contactValue:n[e]})}));return r.a.createElement("div",{className:Q.a.descriptionProfile},e.isOwner&&r.a.createElement("div",{className:Q.a.btnEdit},r.a.createElement("button",{onClick:function(){return e.changeData(!0)}},"edit info")),r.a.createElement("span",{className:Q.a.name},e.profileData.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"About:"),e.profileData.aboutMe),r.a.createElement("div",null,r.a.createElement("b",null,"Looking For A JOB:"),e.profileData.lookingForAJob?r.a.createElement("img",{src:ee.a,alt:"right tick",className:Q.a.icon}):r.a.createElement("img",{src:ne.a,alt:"false tick",className:Q.a.icon})),e.profileData.lookingForAJobDescription&&r.a.createElement("div",null,r.a.createElement("b",null,"My Skills:")," ",e.profileData.lookingForAJobDescription),0!==a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Contacts:"),a):null)},re=n(85),oe=n.n(re),se=function(e){var t=e.addPhoto,n=e.isOwner,o=Object(A.d)((function(e){return e.profilePage.profile})),s=o.isPhotoLoading,c=o.photos,i=o.errorPhotoLoadingMessage,u=Object(v.g)().userId,l=Object(a.useRef)(null);return r.a.createElement("div",{style:{marginRight:"10px"}},s?r.a.createElement("div",{style:{width:"150px",height:"150px",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(U.a,null)):r.a.createElement(f.a,{photo:c.large,styled:oe.a.photo}),r.a.createElement("div",{className:oe.a.navLink},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return function(e){t(e.target.files[0])}(e)},ref:l}),r.a.createElement("button",{style:{height:"30px"},onClick:function(){l.current&&l.current.click()}},"Change Photo")):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{to:"".concat(ke,"/").concat(u)},r.a.createElement("button",{style:{height:"30px"}},"Send Message")))),r.a.createElement("span",{className:oe.a.errorMessage}," ",i||null," "))},ce=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(e.status),u=Object(c.a)(i,2),l=u[0],d=u[1];Object(a.useEffect)((function(){d(e.status)}),[e.status]);return r.a.createElement("div",{className:q.a.status},!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){return s(!0)}},e.status||"no-status")),o&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){return d(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(l)},value:l})))},ie=Object(j.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.error,a=Object(A.d)((function(e){return e.profilePage.profile})).contacts,o=Object.keys(a).map((function(e){return r.a.createElement("div",{key:e,className:Q.a.descElementWrap},r.a.createElement("b",{className:Q.a.descElementTitle},e,":")," ",x(e,"contacts."+e,[],I))}));return r.a.createElement("form",{className:Q.a.editForm,onSubmit:t},r.a.createElement("div",{className:Q.a.editDescription},r.a.createElement("div",{className:Q.a.descElementWrap},r.a.createElement("b",{className:Q.a.descElementTitle},"Full name:"),x("full name","fullName",[],I)),r.a.createElement("div",{className:Q.a.descElementWrap},r.a.createElement("b",{className:Q.a.descElementTitle},"About:"),x("About me","aboutMe",[],N)),r.a.createElement("div",{className:Q.a.descElementWrap},r.a.createElement("b",{className:Q.a.descElementTitle},"Looking For A JOB"),x("Looking for a job","lookingForAJob",[],I,{type:"checkbox"})),r.a.createElement("div",{className:Q.a.descElementWrap},r.a.createElement("b",{className:Q.a.descElementTitle},"My Skills:"),x("My Skills","My Skills",[],N))),o,r.a.createElement("div",null,n&&r.a.createElement("div",{className:C.a.formSummaryError},n)),r.a.createElement("div",{className:Q.a.btnSubmit},r.a.createElement("button",{style:{height:"30px"}},"submit")))})),ue=function(e){var t=e.errorMessage,n=e.isLoading,o=e.addPhoto,s=e.updateStatus,i=e.isOwner,u=e.saveProfile,l=Object(a.useState)(!1),d=Object(c.a)(l,2),m=d[0],p=d[1],f=Object(A.d)((function(e){return e.profilePage.profile})),g=Object(A.d)((function(e){return e.profilePage.status}));if(n)return r.a.createElement(U.a,null);return r.a.createElement("div",{className:q.a.profileInfo},t?r.a.createElement("div",{style:{color:"red"}},t):r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{addPhoto:o,isOwner:i}),r.a.createElement("div",null,r.a.createElement(ce,{status:g,updateStatus:s}),m?r.a.createElement(ie,{initialValues:f,onSubmit:function(e){u(e).then((function(){p(!1)}))}}):r.a.createElement(ae,{profileData:f,changeData:p,isOwner:i}))))},le=n(20),de=n(86),me=n.n(de),pe=n(110),fe=n.n(pe),ge=function(e){return r.a.createElement("div",{className:fe.a.myPost},r.a.createElement("img",{src:"https://d13ezvd6yrslxm.cloudfront.net/wp/wp-content/images/avatar-neytiri-sad.jpg",alt:"UserPhoto"}),r.a.createElement("div",null,e.message),r.a.createElement("span",{className:fe.a.like},"Like ",e.likesCount))},Ee=r.a.memo((function(e){var t=e.profilePage.postsData.map((function(e){return r.a.createElement(ge,{key:e.id,message:e.message,likesCount:e.likesCount})}));return r.a.createElement("div",{className:me.a.item},!!e.isOwner&&r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{onSubmit:function(t){e.addPost(t.newPostText)}}),r.a.createElement("div",{className:me.a.posts},t)))})),be=P(10),he=Object(j.a)({form:"profileAddPostForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:me.a.input},r.a.createElement(w.a,{component:N,name:"newPostText",placeholder:"What's up?",validate:[_,be]}),r.a.createElement("button",null,"\u0417\u0430\u043f\u043e\u0441\u0442\u0438\u0442\u044c")))})),Oe=Ee,ve=Object(A.b)((function(e){return{profilePage:e.profilePage,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(le.a)(t))}}}))(Oe),_e=function(e){return r.a.createElement("div",{className:Y.a.content},r.a.createElement(ue,{errorMessage:e.errorMessage,isLoading:e.isLoading,updateStatus:e.updateStatus,addPhoto:e.addPhoto,isOwner:e.isOwner,saveProfile:e.saveProfile}),r.a.createElement(ve,{isOwner:e.isOwner}))},Pe=n(3),we=n.n(Pe),je=n(26),Se=n(11),Ce=function(e){return function(t){var n;return we.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Object(le.d)(!0)),a.next=3,we.a.awrap(Se.e.getProfile(e));case 3:n=a.sent,t(Object(le.d)(!1)),t(Object(le.f)(n.data));case 6:case"end":return a.stop()}}))}},ye=function(e){function t(){var e,n;Object(F.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(W.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).refreshProfile=function(){var e=n.props.match.params.userId;e||(e=n.props.authorizedUserId)||n.props.history.push(Re),n.props.getUserProfile(e),n.props.getStatus(e)},n.addPhoto=function(e){n.props.addPhoto(e)},n}return Object(K.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(_e,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,errorMessage:this.props.errorMessage,isLoading:this.props.isLoading,updateStatus:this.props.updateStatus,addPhoto:this.addPhoto,saveProfile:this.props.saveProfile}))}}]),t}(r.a.Component),Ne=Object(V.d)(Object(A.b)((function(e){return{profile:e.profilePage.profile,errorMessage:e.profilePage.errorMessage,isLoading:e.profilePage.isLoading,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:Ce,getStatus:function(e){return function(t){var n;return we.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,we.a.awrap(Se.b.getStatus(e));case 2:n=a.sent,t(Object(le.e)(n.data));case 4:case"end":return a.stop()}}))}},updateStatus:function(e){return function(t){return we.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,we.a.awrap(Se.b.updateStatus(e));case 2:0===n.sent.data.resultCode&&t(Object(le.e)(e));case 4:case"end":return n.stop()}}))}},addPhoto:function(e){return function(t){var n;return we.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Object(le.c)(!0)),a.next=3,we.a.awrap(Se.b.uploadPhoto(e));case 3:n=a.sent,t(Object(le.c)(!1)),0===n.data.resultCode?t(Object(le.h)(n.data.data.photos)):t(Object(le.g)(n.data.messages[0]));case 6:case"end":return a.stop()}}))}},saveProfile:function(e){return function(t,n){var a,r;return we.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=n().auth.userId,o.next=3,we.a.awrap(Se.b.saveProfile(e));case 3:if(0!==(r=o.sent).data.resultCode){o.next=8;break}t(Ce(a)),o.next=11;break;case 8:if(1!==r.data.resultCode){o.next=11;break}return t(Object(je.a)("edit-profile",{_error:r.data.messages[0]})),o.abrupt("return",Promise.reject(r.data.messages[0]));case 11:case"end":return o.stop()}}))}}}),v.h,H)(ye),Ie=n(51),xe=Object(j.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return r.a.createElement("form",{className:C.a.loginWrapper,onSubmit:t},x("Email","email",[_],I),x("Password","password",[_],I,{type:"password"}),r.a.createElement("div",{className:C.a.checkboxWrapper},x(null,"rememberMe",null,I,{type:"checkbox"},"remember me")),a&&r.a.createElement("div",null,r.a.createElement("img",{className:C.a.captcha,src:a,alt:"captcha"}),x("Symbols from image","captcha",[_],I)),n&&r.a.createElement("div",{className:C.a.formSummaryError},n),r.a.createElement("button",{style:{height:"30px"}},"Login"))})),De=Object(A.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:Ie.b,logout:Ie.c})((function(e){var t=e.login,n=e.isAuth,a=e.captchaUrl;return n?r.a.createElement(v.a,{to:"/profile"}):r.a.createElement("div",{className:C.a.loginPage},r.a.createElement("h1",{className:C.a.loginHeader},"Login"),r.a.createElement(xe,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)},captchaUrl:a}))})),Le=n(155);n(102);n.d(t,"b",(function(){return Re})),n.d(t,"a",(function(){return ke})),n.d(t,"c",(function(){return Ue})),n.d(t,"d",(function(){return Ae}));var Re="/social-network-react/login",ke="/social-network-react/dialogs",Ue="/social-network-react/profile",Ae="/social-network-react/users";t.e=function(){return r.a.createElement("div",{className:"app-content"},r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",render:function(){return r.a.createElement(v.a,{to:Ue})}}),r.a.createElement(v.b,{path:ke+"/:userId?",render:function(){return r.a.createElement(B,null)}}),r.a.createElement(v.b,{path:Ue+"/:userId?",render:function(){return r.a.createElement(Ne,null)}}),r.a.createElement(v.b,{path:Ae,render:(e=Le.default,function(t){return r.a.createElement(a.Suspense,{fallback:U.a},r.a.createElement(e,t))})}),r.a.createElement(v.b,{path:Re,render:function(){return r.a.createElement(De,null)}}),r.a.createElement(v.b,{path:"*",render:function(){return r.a.createElement("div",{style:{width:"525px"}}," ERROR 404. Page Not Found")}})));var e}},38:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(11),s=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(o.a.get("dialogs/"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},c=function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(o.a.put("dialogs/".concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},i=function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(o.a.get("dialogs/".concat(e,"/messages")));case 2:return t=n.sent,n.abrupt("return",t.data.items);case 4:case"end":return n.stop()}}))},u=function(e,t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(o.a.post("dialogs/".concat(e,"/messages"),{body:t}));case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}))},l=function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(o.a.delete("dialogs/messages/".concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},d=n(16),m=n(14);n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return b}));var p=function(e){return function(t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c(e));case 2:0===n.sent.resultCode&&t(Object(m.d)(e));case 4:case"end":return n.stop()}}))}},f=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e(Object(d.b)(!0)),n.next=3,r.a.awrap(s());case 3:t=n.sent,e(Object(d.b)(!1)),e(Object(d.e)(t));case 6:case"end":return n.stop()}}))}},g=function(e){return function(t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Object(d.f)(!0)),a.next=3,r.a.awrap(i(e));case 3:n=a.sent,t(Object(d.f)(!1)),t(Object(d.d)(e)),t(Object(d.g)(n));case 7:case"end":return a.stop()}}))}},E=function(e,t){return function(n){var a;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n(Object(d.f)(!0)),o.next=3,r.a.awrap(u(e,t));case 3:a=o.sent,n(Object(d.f)(!1)),0===a.resultCode&&n(g(e));case 6:case"end":return o.stop()}}))}},b=function(e,t){return function(n){var a;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n(Object(d.f)(!0)),o.next=3,r.a.awrap(l(e));case 3:a=o.sent,n(Object(d.f)(!1)),0===a.resultCode&&n(g(t));case 6:case"end":return o.stop()}}))}}},39:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1Aa7J",messages:"Dialogs_messages__2U-Z6",message:"Dialogs_message__3pFln",unViewed:"Dialogs_unViewed__YmnCL",autorName:"Dialogs_autorName__2AHE6",textMessage:"Dialogs_textMessage__LYvbS"}},43:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n(7),r=(n(60),"SOCIAL-NETWORK/AUTH-REDUCER/SET_USER_DATA"),o="SOCIAL-NETWORK/AUTH-REDUCER/GET_CAPTCHA_URL_SUCCESS",s={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return Object(a.a)({},e,{},t.payload);case o:return Object(a.a)({},e,{captchaUrl:t.captchaUrl});default:return e}};var c=function(e,t,n,a){return{type:r,payload:{userId:e,email:t,login:n,isAuth:a}}},i=function(e){return{type:o,captchaUrl:e}}},46:function(e,t,n){e.exports={usersContainer:"Users_usersContainer__3qP4s",userPhoto:"Users_userPhoto__2GNy5",users:"Users_users__1BKYL",user:"Users_user__2Cijy",photoContainer:"Users_photoContainer__26Y4i",userDesc:"Users_userDesc__n-qTG"}},47:function(e,t,n){e.exports={nav:"Navbar_nav__ZDLMb",item:"Navbar_item__3-lr_",activeLink:"Navbar_activeLink__1hida"}},48:function(e,t,n){e.exports={dialogWrapper:"DialogItem_dialogWrapper__3xPg2",dialog:"DialogItem_dialog__U2jvs",avatarWrapper:"DialogItem_avatarWrapper__1tMlG",avatar:"DialogItem_avatar__RtwHj",nameWrapper:"DialogItem_nameWrapper__3TtMO",newMessagesCountWrapper:"DialogItem_newMessagesCountWrapper__2H0v8",newMessagesCount:"DialogItem_newMessagesCount__3E7uU"}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(3),r=n.n(a),o=n(60),s=n(26),c=n(43),i=function(){return function(e){var t,n,a,s,i;return r.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,r.a.awrap(o.a.me());case 3:0!==(t=u.sent).resultCode||0===t.resultCode&&(n=t.data,a=n.id,s=n.email,i=n.login,e(Object(c.c)(a,s,i,!0))),u.next=10;break;case 7:u.prev=7,u.t0=u.catch(0),console.error("error");case 10:case"end":return u.stop()}}),null,null,[[0,7]])}},u=function(e,t,n,a){return function(c){var u,l;return r.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,r.a.awrap(o.a.login(e,t,n,a));case 3:0===(u=m.sent).data.resultCode?c(i()):(10===u.data.resultCode&&c(d()),l=u.data.messages.length>0?u.data.messages[0]:"Some error",c(Object(s.a)("login",{_error:l}))),m.next=10;break;case 7:m.prev=7,m.t0=m.catch(0),console.error(m.t0.response.message);case 10:case"end":return m.stop()}}),null,null,[[0,7]])}},l=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(o.a.logout());case 3:0===(t=n.sent).data.resultCode?e(Object(c.c)(null,null,null,!1)):console.error("Fail logout",t.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0.response.message);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},d=function(){return function(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(o.b.getCaptchaUrl());case 3:t=a.sent,n=t.data.url,e(Object(c.b)(n)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0.response.message);case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}},56:function(e,t,n){"use strict";var a=n(27),r=n(0),o=n.n(r),s=n(149),c=n.n(s);t.a=function(e){var t=e.photo,n=Object(a.a)(e,["photo"]),r="".concat(n.styled);return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{alt:"Avatar",src:t||c.a,className:r}))}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n(3),r=n.n(a),o=n(11),s={me:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(o.a.get("auth/me"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o.a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},logout:function(){return o.a.delete("auth/login")}},c={getCaptchaUrl:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(o.a.get("security/get-captcha-url"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}}},61:function(e,t,n){e.exports={formWrapper:"SendForm_formWrapper__2TzLW",textareaWrapper:"SendForm_textareaWrapper__DYZIF",textarea:"SendForm_textarea__1lP8e",buttonWrapper:"SendForm_buttonWrapper__2SmNt",button:"SendForm_button__9W-Vn"}},83:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__80lrY",status:"ProfileInfo_status__3ne3X"}},85:function(e,t,n){e.exports={photo:"ProfilePhoto_photo__9K17E",errorMessage:"ProfilePhoto_errorMessage__obHc5",navLink:"ProfilePhoto_navLink__V3G6A"}},86:function(e,t,n){e.exports={item:"Posts_item__2C1Gh",posts:"Posts_posts__3FwCg",input:"Posts_input__32s1e"}},87:function(e,t,n){e.exports={paginator:"Pagination_paginator__s0UZP",pageNumber:"Pagination_pageNumber__3gVIf",selectedPage:"Pagination_selectedPage__1fzD1"}}},[[181,1,2]]]);
//# sourceMappingURL=main.89d4261d.chunk.js.map